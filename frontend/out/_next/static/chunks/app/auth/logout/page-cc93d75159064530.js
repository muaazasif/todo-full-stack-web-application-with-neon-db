(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{7377:function(e,t,r){Promise.resolve().then(r.bind(r,842))},842:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),n=r(9148),o=r(2265),l=r(4033),a=()=>{let{logout:e,user:t}=(0,n.aC)(),[r,a]=(0,o.useState)(!1),[i,u]=(0,o.useState)(5),c=(0,l.useRouter)();(0,o.useEffect)(()=>{let e;return r&&i>0?e=setTimeout(()=>{u(i-1)},1e3):r&&0===i&&c.push("/auth/login"),()=>{e&&clearTimeout(e)}},[r,i,c]);let d=async()=>{a(!0),await e()};return r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl text-center",children:[(0,s.jsx)("div",{className:"mx-auto h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"mt-6 text-2xl font-bold text-gray-900",children:"You've been logged out"}),(0,s.jsxs)("p",{className:"mt-2 text-gray-600",children:["You will be redirected to the login page in ",i," seconds..."]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,s.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-1000 ease-linear",style:{width:"".concat(i/5*100,"%")}})})})]})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-2xl shadow-xl",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto h-16 w-16 rounded-full bg-red-100 flex items-center justify-center",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,s.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign out"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Are you sure you want to sign out of your account?"})]}),(0,s.jsx)("div",{className:"mt-8",children:(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Signed in as"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 truncate",children:(null==t?void 0:t.email)||"Unknown User"})]})}),(0,s.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,s.jsx)("button",{onClick:d,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Sign out"}),(0,s.jsx)("button",{onClick:()=>{c.push("/tasks")},className:"w-full flex justify-center py-3 px-4 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"})]})]})})};function i(){let{isAuthenticated:e}=(0,n.aC)(),t=(0,l.useRouter)();return((0,o.useEffect)(()=>{e||t.push("/auth/login")},[e,t]),e)?(0,s.jsx)(a,{}):null}},9148:function(e,t,r){"use strict";r.d(t,{Ho:function(){return l},aC:function(){return a}});var s=r(7437),n=r(2265);r(4033);let o=(0,n.createContext)(),l=e=>{let{children:t}=e,[r,l]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),[u,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("user");e&&(l(JSON.parse(e)),i(!0))}catch(e){console.error("Error checking auth status:",e)}finally{c(!1)}})()},[]);let d=async(e,t)=>{l(e),i(!0),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t)},f=async(e,t)=>{l(e),i(!0),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("token",t)},m=async()=>{l(null),i(!1),localStorage.removeItem("user"),localStorage.removeItem("token")};return(0,s.jsx)(o.Provider,{value:{user:r,isAuthenticated:a,loading:u,login:d,signup:f,logout:m},children:t})},a=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},622:function(e,t,r){"use strict";var s=r(2265),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var s,o={},u=null,c=null;for(s in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,s)&&!i.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:n,type:e,key:u,ref:c,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=7377)}),_N_E=e.O()}]);